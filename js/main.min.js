function resize(a){"use strict";var b,c,d;b=document.getElementById("length"),c=document.getElementById("width"),d=document.getElementById("height"),b.value=30,c.value=10,d.value=10,b.addEventListener("change",function(){a.scale.set(b.value/100,d.value/100,c.value/100)}),c.addEventListener("change",function(){a.scale.set(b.value/100,d.value/100,c.value/100)}),d.addEventListener("change",function(){a.scale.set(b.value/100,d.value/100,c.value/100)})}function saveSTL(a,b){var c=new THREE.STLBinaryExporter,d=c.parse(a),e=new Blob([d],{type:"text/plain"});saveAs(e,b+".stl")}function init(){"use strict";scene=new THREE.Scene;var a=document.getElementById("canvas");renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setSize(a.offsetWidth,a.offsetHeight),a.appendChild(renderer.domElement),camera=new THREE.PerspectiveCamera(45,a.offsetWidth/a.offsetHeight,.1,2e3),camera.position.set(.5,.4,.5),scene.add(camera),window.addEventListener("resize",function(){renderer.setSize(a.offsetWidth,a.offsetHeight),camera.aspect=a.offsetWidth/a.offsetHeight,camera.updateProjectionMatrix()}),renderer.setClearColor(2503224,1);var b=new THREE.AmbientLight(16775150,.15),c=new THREE.PointLight(16777215,.6),d=new THREE.PointLight(16777215,.7),e=new THREE.PointLight(16777215,.3);c.position.set(20,20,-20),d.position.set(0,-50,-30),e.position.set(0,0,30),scene.add(b),scene.add(c),scene.add(d),scene.add(e);var f=new THREE.JSONLoader;f.load("https://api.myjson.com/bins/3iqtc",function(a){var b=new THREE.MeshPhongMaterial({color:15724527,side:THREE.DoubleSide,overdraw:.5}),c=new THREE.Mesh(a,b);scene.add(c),c.scale.set(.3,.1,.1),resize(c)}),controls=new THREE.OrbitControls(camera,renderer.domElement),$(document).ready(function(){var a;a=document.getElementById("download"),a.addEventListener("click",function(){saveSTL(scene,"ninelivesForearm")})})}function animate(){"use strict";requestAnimationFrame(animate),renderer.render(scene,camera),controls.update()}var scene,camera,renderer,controls,saveAs=saveAs||function(a){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement),h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var r,o=this,p=b.type,q=p===j,s=function(){m(o,"writestart progress write writeend".split(" "))},t=function(){if((h||q&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,o.readyState=o.DONE,s()},d.readAsDataURL(b),void(o.readyState=o.INIT)}if(r||(r=c().createObjectURL(b)),q)a.location.href=r;else{var e=a.open(r,"_blank");e||(a.location.href=r)}o.readyState=o.DONE,s(),l(r)};return o.readyState=o.INIT,e?(r=c().createObjectURL(b),void setTimeout(function(){d.href=r,d.download=i,f(d),s(),l(r),o.readyState=o.DONE})):void t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return saveAs}),THREE.STLBinaryExporter=function(){},THREE.STLBinaryExporter.prototype={constructor:THREE.STLBinaryExporter,parse:function(){var a=new THREE.Vector3,b=new THREE.Matrix3;return function(d){var e=[],f=0;d.traverse(function(a){if(a instanceof THREE.Mesh){var b=a.geometry;b instanceof THREE.BufferGeometry&&(b=(new THREE.Geometry).fromBufferGeometry(b)),b instanceof THREE.Geometry&&(f+=b.faces.length,e.push({geometry:b,matrix:a.matrixWorld}))}});var g=80,h=2*f+3*f*4*4+80+4,i=new ArrayBuffer(h),j=new DataView(i);return j.setUint32(g,f,!0),g+=4,e.forEach(function(c){var d=c.geometry.vertices,e=c.geometry.faces;b.getNormalMatrix(c.matrix);for(var f=0,h=e.length;f<h;f++){var i=e[f];a.copy(i.normal).applyMatrix3(b).normalize(),j.setFloat32(g,a.x,!0),g+=4,j.setFloat32(g,a.y,!0),g+=4,j.setFloat32(g,a.z,!0),g+=4;for(var k=[i.a,i.b,i.c],l=0;l<3;l++)a.copy(d[k[l]]).applyMatrix4(c.matrix),j.setFloat32(g,a.x,!0),g+=4,j.setFloat32(g,a.y,!0),g+=4,j.setFloat32(g,a.z,!0),g+=4;j.setUint16(g,0,!0),g+=2}}),j}}()},init(),animate();